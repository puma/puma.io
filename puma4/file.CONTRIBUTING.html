<!DOCTYPE html>
<html>
<head>

<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>File: CONTRIBUTING &mdash; Puma-4.3.7</title>

<link rel='stylesheet'  type='text/css' href='css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='css/y_color.css' />

<script type='text/javascript'>
  var pathId = "CONTRIBUTING",
    relpath = '';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='./'>Puma-4.3.7</a> &raquo; 
      <a href='_index.html'>Index</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>File: CONTRIBUTING&nbsp;&#x25B2;</a></span>
          </div>

    <a id='list_href' href="class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='file'>
<h1>Contributing to <a href="Puma.html" title="Puma (module)">Puma</a></h1>
<p>By participating in this project, you agree to follow the <a href="https://github.com/puma/puma/blob/master/CODE_OF_CONDUCT.md">code of conduct</a>.</p>
<p>There are lots of ways to contribute to puma. Some examples include:</p>
<ul>
<li>creating a <a href="https://github.com/puma/puma/issues/new?template=bug_report.md">bug report</a> or <a href="https://github.com/puma/puma/issues/new?template=feature_request.md">feature request</a></li>
<li>verifying <a href="https://github.com/puma/puma/issues?q=is%3Aopen+is%3Aissue+label%3Aneeds-repro">existing bug reports</a> and adding <a href="https://github.com/puma/puma/blob/CONTRIBUTING.md#reproduction-steps">reproduction steps</a></li>
<li>reviewing <a href="https://github.com/puma/puma/pulls">pull requests</a> and testing the changes on your own machine</li>
<li>writing or editing documentation</li>
<li>improving test coverage</li>
<li>fixing a <a href="https://github.com/puma/puma/issues?utf8=%E2%9C%93&amp;q=is%3Aopen+is%3Aissue+label%3Abug">reproducing bug</a> or adding a new feature</li>
</ul>
<h2>Setup</h2>
<p>Clone down the <a href="Puma.html" title="Puma (module)">Puma</a> repository.</p>
<p>You will need to install <a href="https://www.colm.net/open-source/ragel/">ragel</a> to generate puma's extension code.</p>
<p>macOS:</p>
<pre class="code sh"><code class="sh">brew install ragel
</code></pre>
<p>Linux:</p>
<pre class="code sh"><code class="sh">apt-get install ragel
</code></pre>
<p>Install Ruby dependencies with:</p>
<pre class="code sh"><code class="sh">bundle install
</code></pre>
<p>To run Puma, you will need to compile the native extension. To do this:</p>
<pre class="code sh"><code class="sh">bundle exec rake compile
</code></pre>
<p>Then, you will be able to run Puma using your local copy with:</p>
<pre class="code sh"><code class="sh">bundle exec bin/puma test/rackup/hello.ru
</code></pre>
<h2>Running tests</h2>
<p>You can run the full test suite with:</p>
<pre class="code sh"><code class="sh">bundle exec rake test:all
</code></pre>
<p>To run a single test file:</p>
<pre class="code sh"><code class="sh">ruby -Ilib test/test_binder.rb
</code></pre>
<p>Or use <a href="https://github.com/qrush/m" target="_parent" title="m">m</a>:</p>
<pre class="code sh"><code class="sh">bundle exec m test/test_binder.rb
</code></pre>
<p>... which can also be used to run a single test case:</p>
<pre class="code sh"><code class="sh">bundle exec m test/test_binder.rb:37
</code></pre>
<h2>How to contribute</h2>
<p>Puma needs help in several areas.</p>
<p><strong>The <code>contrib-wanted</code> label is applied to issues that maintainers think would be easier for first-time contributors.</strong></p>
<p><strong>Reproducing bug reports</strong>: The <code>needs-repro</code> label is applied to issues that have a bug report but no reproduction steps. You can help by trying to reproduce the issue and then posting how you did it.</p>
<p><strong>Helping with our native extensions</strong>: If you can write C or Java, we could really use your help. Check out the issue labels for c-extensions and JRuby.</p>
<p><strong>Fixing bugs</strong>: Issues with the <code>bug</code> label have working reproduction steps, which you can use to write a test and create a patch.</p>
<p><strong>Writing features</strong>: Issues with the <code>feature</code> label are requests for new functionality. Write tests and code up our new feature!</p>
<p><strong>Code review</strong>: Take a look at open pull requests and offer your feedback. Code review is not just for maintainers - we need your help and eyeballs!</p>
<p><strong>Write documentation</strong>: Puma needs more docs in many areas, especially those where we have open issues labeled <code>docs</code>.</p>
<h2>Reproduction steps</h2>
<p>Reproducing a bug helps identify the root cause of that bug so it can be fixed.
To get started, create a rackup file and config file and then run your test app
with:</p>
<pre class="code sh"><code class="sh">bundle exec puma -C &lt;path/to/config.rb&gt; &lt;path/to/rackup.ru&gt;
</code></pre>
<p>As an example, using one of the test rack apps:
<a href="https://github.com/puma/puma/blob/master/test/rackup/hello.ru"><code>test/rackup/hello.ru</code></a>, and one of the test config files:
<a href="https://github.com/puma/puma/blob/master/test/config/settings.rb"><code>test/config/settings.rb</code></a>, you would run the test app with:</p>
<pre class="code sh"><code class="sh">bundle exec puma -C test/config/settings.rb test/rackup/hello.ru
</code></pre>
<p>There is also a Dockerfile available for reproducing Linux-specific issues. To use:</p>
<pre class="code sh"><code class="sh">docker build -f tools/docker/Dockerfile -t puma .
docker run -p 9292:9292 -it puma
</code></pre>
<h2>Pull requests</h2>
<p>Code contributions should generally include test coverage. If you aren't sure how to
test your changes, please open a pull request and leave a comment asking for
help.</p>
<p>If you open a pull request with a change that doesn't need to be noted in the
changelog (<a href="file.History.html" title="History.md">History.md</a>), add the text <code>[changelog skip]</code> to the
pull request title to skip <code>href="https://github.com/puma/puma/pull/1991">https://github.com/puma/puma/pull/1991</a> the changelog
check</code>.</p>
<h2>Bibliography/Reading</h2>
<p>Puma can be a bit intimidating for your first contribution because there's a lot of concepts here that you've probably never had to think about before - Rack, sockets, forking, threads etc. Here are some helpful links for learning more about things related to Puma:</p>
<ul>
<li><a href="https://www.rubydoc.info/github/rack/rack/file/SPEC" target="_parent" title="The Rack specification">The Rack specification</a></li>
<li>The Ruby docs for IO.pipe, TCPServer/Socket.</li>
<li><a href="https://github.com/socketry/nio4r/wiki/Getting-Started" target="_parent" title="nio4r documentation">nio4r documentation</a></li>
</ul>

<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>