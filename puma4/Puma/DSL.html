<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Class: Puma::DSL &mdash; Puma-4.3.12</title>

<link rel='stylesheet'  type='text/css' href='../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Puma::DSL",
    relpath = '../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../'>Puma-4.3.12</a> &raquo; 
      <a href='../_index.html#alpha_D'>Index (D)</a> &raquo; 
        <a href="../Puma.html" title="Puma (module)">Puma</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>DSL&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='class'>
<h1>Class: Puma::DSL</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Super Chains via Extension / Inclusion / Inheritance</td></tr>
    <tr>
      <td colspan='2'>
        <div class='box_2'>Instance Chain:</div>
        <div class='box_22'>
          self,
          <a href="ConfigDefault.html" title="Puma::ConfigDefault (module)"><code>ConfigDefault</code></a>
        </div>
      </td>
    </tr>
    <tr>
      <td id='t2_inherits' class='box_2'>Inherits:</td>
      <td class='box_rel'>
        <span class='inheritName'><a href="../Object.html" title="Object (class)">Object</a></span>
      </td>
    </tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L33'>lib/puma/dsl.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
<p>The methods that are available for use inside the configuration file. These same methods are used in <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> cli and the rack handler internally.</p>

<p>Used manually (via <a href="CLI.html" title="Puma::CLI (class)"><code>CLI</code></a> class):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_config'>config</span> <span class='op'>=</span> <span class='const'><a href="Configuration.html" title="Puma::Configuration (class)">Configuration</a></span>.<span class='id identifier rubyid_new'><a href="Configuration.html#new-class_method" title="Puma::Configuration.new (method)">new</a></span>({}) <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_user_config'>user_config</span><span class='op'>|</span>
  <span class='id identifier rubyid_user_config'>user_config</span>.<span class='id identifier rubyid_port'><a href="#port-instance_method" title="Puma::DSL#port (method)">port</a></span> <span class='int'>3001</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_config'>config</span>.<span class='id identifier rubyid_load'><a href="#load-instance_method" title="Puma::DSL#load (method)">load</a></span>

<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_config'>config</span>.<span class='id identifier rubyid_options'>options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_binds'>binds</span>]
<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tcp://127.0.0.1:3001</span><span class='tstring_end'>&quot;</span></span></code></pre>

<p>Used to load file:</p>

<pre class="code ruby"><code class="ruby">$ cat puma_config.rb
  port 3002

config = Configuration.new(config_file: &quot;puma_config.rb&quot;)
config.load

puts config.options[:binds]
# =&gt; &quot;tcp://127.0.0.1:3002&quot;</code></pre>

<p>You can also find many examples being used by the test suite in <code>test/config</code>.</p>

  </div>
</div>
</div>
<h2 id='t2_cnst' class='h2_sum'>Constant Summary</h2>
<div>
  <h3 class='inherited'><a href="ConfigDefault.html" title="Puma::ConfigDefault (module)"><code>ConfigDefault</code></a> - Included</h3>
  <p  class='inherited'>
    <a href="ConfigDefault.html#DefaultRackup-constant" title="Puma::ConfigDefault::DefaultRackup (constant)">DefaultRackup</a>, 
    <a href="ConfigDefault.html#DefaultTCPHost-constant" title="Puma::ConfigDefault::DefaultTCPHost (constant)">DefaultTCPHost</a>, 
    <a href="ConfigDefault.html#DefaultTCPPort-constant" title="Puma::ConfigDefault::DefaultTCPPort (constant)">DefaultTCPPort</a>, 
    <a href="ConfigDefault.html#DefaultWorkerShutdownTimeout-constant" title="Puma::ConfigDefault::DefaultWorkerShutdownTimeout (constant)">DefaultWorkerShutdownTimeout</a>, 
    <a href="ConfigDefault.html#DefaultWorkerTimeout-constant" title="Puma::ConfigDefault::DefaultWorkerTimeout (constant)">DefaultWorkerTimeout</a>
  </p>
</div>

<h2 class='h2_sum' id='class_method_summary'>Class Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#new-class_method" title=".new (class method)">.<strong>new</strong>(options, config)  &#x21d2; DSL </a>
    </span>
    <span class='note title constructor'>constructor</span>
  </li>
</ul>
</div>  <!-- class_method_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#_load_from-instance_method" title="#_load_from (instance method)">#<strong>_load_from</strong>(path)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#_offer_plugins-instance_method" title="#_offer_plugins (instance method)">#<strong>_offer_plugins</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#activate_control_app-instance_method" title="#activate_control_app (instance method)">#<strong>activate_control_app</strong>(url = &quot;auto&quot;, opts = {})  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Start the <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> control rack application on <code>url</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#after_worker_boot-instance_method" title="#after_worker_boot (instance method)">#<strong>after_worker_boot</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Alias for <a href="#after_worker_fork-instance_method" title="Puma::DSL#after_worker_fork (method)">#after_worker_fork</a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#after_worker_fork-instance_method" title="#after_worker_fork (instance method)">#<strong>after_worker_fork</strong>(&amp;block)  </a>
      (also: #after_worker_boot)
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Code to run in the master after a worker has been started.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#app-instance_method" title="#app (instance method)">#<strong>app</strong>(obj = nil, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Use an object or block as the rack application.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#before_fork-instance_method" title="#before_fork (instance method)">#<strong>before_fork</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Code to run immediately before master process forks workers (once on boot).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#bind-instance_method" title="#bind (instance method)">#<strong>bind</strong>(url)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Bind the server to <code>url</code>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#clean_thread_locals-instance_method" title="#clean_thread_locals (instance method)">#<strong>clean_thread_locals</strong>(which = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Work around leaky apps that leave garbage in Thread locals across requests.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#clear_binds!-instance_method" title="#clear_binds! (instance method)">#<strong>clear_binds!</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#daemonize-instance_method" title="#daemonize (instance method)">#<strong>daemonize</strong>(which = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Daemonize the server into the background.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#debug-instance_method" title="#debug (instance method)">#<strong>debug</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Show debugging info.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#default_host-instance_method" title="#default_host (instance method)">#<strong>default_host</strong>  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#directory-instance_method" title="#directory (instance method)">#<strong>directory</strong>(dir)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>The directory to operate out of.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#drain_on_shutdown-instance_method" title="#drain_on_shutdown (instance method)">#<strong>drain_on_shutdown</strong>(which = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>When shutting down, drain the accept socket of pending connections and process them.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#early_hints-instance_method" title="#early_hints (instance method)">#<strong>early_hints</strong>(answer = true)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#environment-instance_method" title="#environment (instance method)">#<strong>environment</strong>(environment)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the environment in which the rack’s app will run.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#extra_runtime_dependencies-instance_method" title="#extra_runtime_dependencies (instance method)">#<strong>extra_runtime_dependencies</strong>(answer = [])  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>When using prune_bundler, if extra runtime dependencies need to be loaded to initialize your app, then this setting can be used.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#first_data_timeout-instance_method" title="#first_data_timeout (instance method)">#<strong>first_data_timeout</strong>(seconds)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Define how long the tcp socket stays open, if no data has been received.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#force_shutdown_after-instance_method" title="#force_shutdown_after (instance method)">#<strong>force_shutdown_after</strong>(val = :forever)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>How long to wait for threads to stop when shutting them down.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#get-instance_method" title="#get (instance method)">#<strong>get</strong>(key, default = nil)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#inject-instance_method" title="#inject (instance method)">#<strong>inject</strong>(&amp;blk)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#load-instance_method" title="#load (instance method)">#<strong>load</strong>(file)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Load additional configuration from a file Files get loaded later via <a href="Configuration.html#load-instance_method" title="Puma::Configuration#load (method)">Configuration#load</a></p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#log_formatter-instance_method" title="#log_formatter (instance method)">#<strong>log_formatter</strong>(&amp;block)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#log_requests-instance_method" title="#log_requests (instance method)">#<strong>log_requests</strong>(which = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Enable request logging.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#lowlevel_error_handler-instance_method" title="#lowlevel_error_handler (instance method)">#<strong>lowlevel_error_handler</strong>(obj = nil, &amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Use <code>obj</code> or <code>block</code> as the low level error handler.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_restart-instance_method" title="#on_restart (instance method)">#<strong>on_restart</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Code to run before doing a restart.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_worker_boot-instance_method" title="#on_worker_boot (instance method)">#<strong>on_worker_boot</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Code to run in a worker when it boots to setup the process before booting the app.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_worker_fork-instance_method" title="#on_worker_fork (instance method)">#<strong>on_worker_fork</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Code to run in the master right before a worker is started.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#on_worker_shutdown-instance_method" title="#on_worker_shutdown (instance method)">#<strong>on_worker_shutdown</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Code to run immediately before a worker shuts down (after it has finished processing HTTP requests).</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#out_of_band-instance_method" title="#out_of_band (instance method)">#<strong>out_of_band</strong>(&amp;block)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Code to run out-of-band when the worker is idle.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#persistent_timeout-instance_method" title="#persistent_timeout (instance method)">#<strong>persistent_timeout</strong>(seconds)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Define how long persistent connections can be idle before <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> closes them.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#pidfile-instance_method" title="#pidfile (instance method)">#<strong>pidfile</strong>(path)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Store the pid of the server in the file at “path”.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#plugin-instance_method" title="#plugin (instance method)">#<strong>plugin</strong>(name)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Load the named plugin for use by this configuration.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#port-instance_method" title="#port (instance method)">#<strong>port</strong>(port, host = nil)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Define the TCP port to bind to.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#preload_app!-instance_method" title="#preload_app! (instance method)">#<strong>preload_app!</strong>(answer = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Preload the application before starting the workers; this conflicts with phased restart feature.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#prune_bundler-instance_method" title="#prune_bundler (instance method)">#<strong>prune_bundler</strong>(answer = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>This option is used to allow your app and its gems to be properly reloaded when not using preload.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#queue_requests-instance_method" title="#queue_requests (instance method)">#<strong>queue_requests</strong>(answer = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>When set to true (the default), workers accept all requests and queue them before passing them to the handlers.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#quiet-instance_method" title="#quiet (instance method)">#<strong>quiet</strong>(which = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Disable request logging, if this isn’t used it’ll be enabled by default.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#rackup-instance_method" title="#rackup (instance method)">#<strong>rackup</strong>(path)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Load <code>path</code> as a rackup file.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#raise_exception_on_sigterm-instance_method" title="#raise_exception_on_sigterm (instance method)">#<strong>raise_exception_on_sigterm</strong>(answer = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>By default, <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> will raise SignalException when SIGTERM is received.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#restart_command-instance_method" title="#restart_command (instance method)">#<strong>restart_command</strong>(cmd)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Command to use to restart <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a>.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#set_default_host-instance_method" title="#set_default_host (instance method)">#<strong>set_default_host</strong>(host)  </a>
    </span>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#set_remote_address-instance_method" title="#set_remote_address (instance method)">#<strong>set_remote_address</strong>(val = :socket)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Control how the remote address of the connection is set.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#shutdown_debug-instance_method" title="#shutdown_debug (instance method)">#<strong>shutdown_debug</strong>(val = true)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>When a shutdown is requested, the backtraces of all the threads will be written to $stdout.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#ssl_bind-instance_method" title="#ssl_bind (instance method)">#<strong>ssl_bind</strong>(host, port, opts)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Instead of “bind ‘ssl://127.0.0.1:9292?key=key_path&amp;cert=cert_path’” you can also use the “ssl_bind” option.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#state_path-instance_method" title="#state_path (instance method)">#<strong>state_path</strong>(path)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Use <code>path</code> as the file to store the server info state.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#stdout_redirect-instance_method" title="#stdout_redirect (instance method)">#<strong>stdout_redirect</strong>(stdout = nil, stderr = nil, append = false)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Redirect STDOUT and STDERR to files specified.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tag-instance_method" title="#tag (instance method)">#<strong>tag</strong>(string)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Additional text to display in process listing.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tcp_mode-instance_method" title="#tcp_mode (instance method)">#<strong>tcp_mode</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Run the app as a raw TCP app instead of an HTTP rack app.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#tcp_mode!-instance_method" title="#tcp_mode! (instance method)">#<strong>tcp_mode!</strong>  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Run Puma in TCP mode.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#threads-instance_method" title="#threads (instance method)">#<strong>threads</strong>(min, max)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Configure <code>min</code> to be the minimum number of threads to use to answer requests and <code>max</code> the maximum.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#worker_boot_timeout-instance_method" title="#worker_boot_timeout (instance method)">#<strong>worker_boot_timeout</strong>(timeout)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Change the default worker timeout for booting.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#worker_directory-instance_method" title="#worker_directory (instance method)">#<strong>worker_directory</strong>(dir)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>DEPRECATED: The directory to operate out of.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#worker_shutdown_timeout-instance_method" title="#worker_shutdown_timeout (instance method)">#<strong>worker_shutdown_timeout</strong>(timeout)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Set the timeout for worker shutdown.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#worker_timeout-instance_method" title="#worker_timeout (instance method)">#<strong>worker_timeout</strong>(timeout)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>Verifies that all workers have checked in to the master process within the given timeout.</p></div>
    </div>
  </li>
  <li>
    <span class='summary_signature '>
      <a href="#workers-instance_method" title="#workers (instance method)">#<strong>workers</strong>(count)  </a>
    </span>
    <div class='summary_desc'>
      <div class='inline'><p>How many worker processes to run.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 id='Constructor_Details' class='y_details'>Constructor Details</h2>

  <section class='method_details first' id="new-class_method">
  <h3 class='signature  first'>
    .<strong>new</strong>(options, config)  &#x21d2; <code>DSL</code> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  </div>
</div>
<div class='tags'>
  
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L36-L41'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='36' data-end='41'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 36</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>(<span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span>)
  <span class='ivar'>@config</span>  <span class='op'>=</span> <span class='id identifier rubyid_config'>config</span>
  <span class='ivar'>@options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>

  <span class='ivar'>@plugins</span> <span class='op'>=</span> []
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="_load_from-instance_method">
  <h3 class='signature  first'>
    #<strong>_load_from</strong>(path)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L43-L50'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='43' data-end='50'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 43</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__load_from'>_load_from</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span>
    <span class='ivar'>@path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span>(<span class='const'>File</span>.<span class='id identifier rubyid_read'>read</span>(<span class='id identifier rubyid_path'>path</span>)<span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='int'>1</span>)
  <span class='kw'>end</span>
<span class='kw'>ensure</span>
  <span class='id identifier rubyid__offer_plugins'><a href="#_offer_plugins-instance_method" title="Puma::DSL#_offer_plugins (method)">_offer_plugins</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="_offer_plugins-instance_method">
  <h3 class='signature '>
    #<strong>_offer_plugins</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L52-L61'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='52' data-end='61'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 52</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid__offer_plugins'>_offer_plugins</span>
  <span class='ivar'>@plugins</span>.<span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_o'>o</span>.<span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbeg'>:</span><span class='id identifier rubyid_config'>config</span>
      <span class='ivar'>@options</span>.<span class='id identifier rubyid_shift'>shift</span>
      <span class='id identifier rubyid_o'>o</span>.<span class='id identifier rubyid_config'>config</span> <span class='kw'>self</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@plugins</span>.<span class='id identifier rubyid_clear'>clear</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="activate_control_app-instance_method">
  <h3 class='signature '>
    #<strong>activate_control_app</strong>(url = &quot;auto&quot;, opts = {})  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Start the <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> control rack application on <code>url</code>. This application can be communicated with to control the main server. Additionally, you can provide an authentication token, so all requests to the control server will need to include that token as a query parameter. This allows for simple authentication.</p>

<p>Check out <a href="App/Status.html" title="Puma::App::Status (class)"><code>App::Status</code></a> to see what the app has available.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_activate_control_app'>activate_control_app</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>unix:///var/run/pumactl.sock</span><span class='tstring_end'>&#39;</span></span></code></pre>
      <pre class='example code ruby'><code><span class='id identifier rubyid_activate_control_app'>activate_control_app</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>unix:///var/run/pumactl.sock</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> { <span class='label'>auth_token:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>12345</span><span class='tstring_end'>&#39;</span></span> }</code></pre>
      <pre class='example code ruby'><code><span class='id identifier rubyid_activate_control_app'>activate_control_app</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>unix:///var/run/pumactl.sock</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> { <span class='label'>no_token:</span> <span class='kw'>true</span> }</code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L123-L146'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='123' data-end='146'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 123</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_activate_control_app'>activate_control_app</span>(<span class='id identifier rubyid_url'>url</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>auto</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='op'>=</span>{})
  <span class='kw'>if</span> <span class='id identifier rubyid_url'>url</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>auto</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'><a href="Configuration.html" title="Puma::Configuration (class)">Configuration</a></span>.<span class='id identifier rubyid_temp_path'><a href="Configuration.html#temp_path-class_method" title="Puma::Configuration.temp_path (method)">temp_path</a></span>
    <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_control_url'>control_url</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unix://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_path'>path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_control_url_temp'>control_url_temp</span>] <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>
  <span class='kw'>else</span>
    <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_control_url'>control_url</span>] <span class='op'>=</span> <span class='id identifier rubyid_url'>url</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_no_token'>no_token</span>]
    <span class='comment'># We need to use &#39;none&#39; rather than :none because this value will be
</span>    <span class='comment'># passed on to an instance of OptionParser, which doesn&#39;t support
</span>    <span class='comment'># symbols as option values.
</span>    <span class='comment'>#
</span>    <span class='comment'># See: https://github.com/puma/puma/issues/1193#issuecomment-305995488
</span>    <span class='id identifier rubyid_auth_token'>auth_token</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>none</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_auth_token'>auth_token</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_auth_token'>auth_token</span>]
    <span class='id identifier rubyid_auth_token'>auth_token</span> <span class='op'>||=</span> <span class='const'><a href="Configuration.html" title="Puma::Configuration (class)">Configuration</a></span>.<span class='id identifier rubyid_random_token'><a href="Configuration.html#random_token-class_method" title="Puma::Configuration.random_token (method)">random_token</a></span>
  <span class='kw'>end</span>

  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_control_auth_token'>control_auth_token</span>] <span class='op'>=</span> <span class='id identifier rubyid_auth_token'>auth_token</span>
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_control_url_umask'>control_url_umask</span>] <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_umask'>umask</span>] <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_umask'>umask</span>]
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="after_worker_boot-instance_method">
  <h3 class='signature '>
    #<strong>after_worker_boot</strong>(&amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Alias for <a href="#after_worker_fork-instance_method" title="Puma::DSL#after_worker_fork (method)">#after_worker_fork</a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L513-L513'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='513' data-end='513'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 513</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after_worker_boot'>after_worker_boot</span><span class='comma'>,</span> <span class='symbeg'>:</span><span class='id identifier rubyid_after_worker_fork'><a href="#after_worker_fork-instance_method" title="Puma::DSL#after_worker_fork (method)">after_worker_fork</a></span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="after_worker_fork-instance_method">
  <h3 class='signature '>
    #<strong>after_worker_fork</strong>(&amp;block)  
    <span class='aliases'>Also known as: <span class='names'>#after_worker_boot</span></span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p><a href="Cluster.html" title="Puma::Cluster (class)"><code>Cluster</code></a> mode only.</p>
</div>
  </div>


<p>Code to run in the master after a worker has been started. The worker’s index is passed as an argument.</p>

<p>This is called everytime a worker is to be started.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_after_worker_fork'>after_worker_fork</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>After worker fork...</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L508-L511'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='508' data-end='511'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 508</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_after_worker_fork'>after_worker_fork</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_after_worker_fork'>after_worker_fork</span>] <span class='op'>||=</span> []
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_after_worker_fork'>after_worker_fork</span>] <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="app-instance_method">
  <h3 class='signature '>
    #<strong>app</strong>(obj = nil, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Use an object or block as the rack application. This allows the configuration file to be the application itself.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_app'>app</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_env'>env</span><span class='op'>|</span>
  <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello, World!</span><span class='tstring_end'>&#39;</span></span>

  [
    <span class='int'>200</span><span class='comma'>,</span>
    {
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Content-Type</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>text/plain</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Content-Length</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_body'>body</span>.<span class='id identifier rubyid_length'>length</span>.<span class='id identifier rubyid_to_s'>to_s</span>
    }<span class='comma'>,</span>
    [<span class='id identifier rubyid_body'>body</span>]
  ]
<span class='kw'>end</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L101-L107'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='101' data-end='107'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 101</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_app'>app</span>(<span class='id identifier rubyid_obj'>obj</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_obj'>obj</span> <span class='op'>||=</span> <span class='id identifier rubyid_block'>block</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Provide either a #call&#39;able or a block</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_obj'>obj</span>

  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_app'>app</span>] <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="before_fork-instance_method">
  <h3 class='signature '>
    #<strong>before_fork</strong>(&amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p><a href="Cluster.html" title="Puma::Cluster (class)"><code>Cluster</code></a> mode only.</p>
</div>
  </div>


<p>Code to run immediately before master process forks workers (once on boot). These hooks can block if necessary to wait for background operations unknown to <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> to finish before the process terminates. This can be used to close any connections to remote servers (database, Redis, …) that were opened when preloading the code.</p>

<p>This can be called multiple times to add several hooks.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_before_fork'>before_fork</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Starting workers...</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L446-L449'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='446' data-end='449'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 446</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_before_fork'>before_fork</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_before_fork'>before_fork</span>] <span class='op'>||=</span> []
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_before_fork'>before_fork</span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="bind-instance_method">
  <h3 class='signature '>
    #<strong>bind</strong>(url)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Bind the server to <code>url</code>. “tcp://”, “unix://” and “ssl://” are the only accepted protocols. Multiple urls can be bound to, calling <code>bind</code> does not overwrite previous bindings.</p>

<p>The default is “tcp://0.0.0.0:9292”.</p>

<p>You can use query parameters within the url to specify options:</p>

<pre class="code ruby"><code class="ruby">- Set the socket backlog depth with backlog, default is 1024.
- Set up an SSL certificate with key &amp; cert.
- Set whether to optimize for low latency instead of throughput with
  low_latency, default is to optimize for low latency. This is done
  via Socket::TCP_NODELAY.
- Set socket permissions with umask.</code></pre>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
        <p class='example_title'><div class='inline'>
<p>Backlog depth</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_bind'>bind</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>unix:///var/run/puma.sock?backlog=512</span><span class='tstring_end'>&#39;</span></span></code></pre>
        <p class='example_title'><div class='inline'>
<p>SSL cert</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_bind'>bind</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ssl://127.0.0.1:9292?key=key.key&amp;cert=cert.pem</span><span class='tstring_end'>&#39;</span></span></code></pre>
        <p class='example_title'><div class='inline'>
<p>Disable optimization for low latency</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_bind'>bind</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>tcp://0.0.0.0:9292?low_latency=false</span><span class='tstring_end'>&#39;</span></span></code></pre>
        <p class='example_title'><div class='inline'>
<p>Socket permissions</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_bind'>bind</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>unix:///var/run/puma.sock?umask=0111</span><span class='tstring_end'>&#39;</span></span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L178-L181'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='178' data-end='181'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 178</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_bind'>bind</span>(<span class='id identifier rubyid_url'>url</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_binds'>binds</span>] <span class='op'>||=</span> []
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_binds'>binds</span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_url'>url</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clean_thread_locals-instance_method">
  <h3 class='signature '>
    #<strong>clean_thread_locals</strong>(which = true)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Work around leaky apps that leave garbage in Thread locals across requests.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L209-L211'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='209' data-end='211'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 209</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_clean_thread_locals'>clean_thread_locals</span>(<span class='id identifier rubyid_which'>which</span><span class='op'>=</span><span class='kw'>true</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_clean_thread_locals'>clean_thread_locals</span>] <span class='op'>=</span> <span class='id identifier rubyid_which'>which</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="clear_binds!-instance_method">
  <h3 class='signature '>
    #<strong>clear_binds!</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L183-L185'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='183' data-end='185'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 183</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_clear_binds!'>clear_binds!</span>
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_binds'>binds</span>] <span class='op'>=</span> []
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="daemonize-instance_method">
  <h3 class='signature '>
    #<strong>daemonize</strong>(which = true)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Daemonize the server into the background. It’s highly recommended to use this in combination with <a href="#pidfile-instance_method" title="Puma::DSL#pidfile (method)">#pidfile</a> and <a href="#stdout_redirect-instance_method" title="Puma::DSL#stdout_redirect (method)">#stdout_redirect</a>.</p>

<p>The default is “false”.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_daemonize'>daemonize</span></code></pre>
      <pre class='example code ruby'><code><span class='id identifier rubyid_daemonize'>daemonize</span> <span class='kw'>false</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L223-L225'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='223' data-end='225'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 223</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_daemonize'>daemonize</span>(<span class='id identifier rubyid_which'>which</span><span class='op'>=</span><span class='kw'>true</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_daemon'>daemon</span>] <span class='op'>=</span> <span class='id identifier rubyid_which'>which</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="debug-instance_method">
  <h3 class='signature '>
    #<strong>debug</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Show debugging info</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L314-L316'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='314' data-end='316'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 314</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_debug'>debug</span>
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_debug'>debug</span>] <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="default_host-instance_method">
  <h3 class='signature '>
    #<strong>default_host</strong>  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L67-L69'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='67' data-end='69'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 67</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_default_host'>default_host</span>
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_default_host'>default_host</span>] <span class='op'>||</span> <span class='const'><a href="Configuration.html" title="Puma::Configuration (class)">Configuration</a></span><span class='op'>::</span><span class='const'><a href="ConfigDefault.html#DefaultTCPHost-constant" title="Puma::ConfigDefault::DefaultTCPHost (constant)">DefaultTCPHost</a></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="directory-instance_method">
  <h3 class='signature '>
    #<strong>directory</strong>(dir)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The directory to operate out of.</p>

<p>The default is the current directory.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_directory'>directory</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/u/apps/lolcat</span><span class='tstring_end'>&#39;</span></span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L535-L537'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='535' data-end='537'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 535</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_directory'>directory</span>(<span class='id identifier rubyid_dir'>dir</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_directory'>directory</span>] <span class='op'>=</span> <span class='id identifier rubyid_dir'>dir</span>.<span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="drain_on_shutdown-instance_method">
  <h3 class='signature '>
    #<strong>drain_on_shutdown</strong>(which = true)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>When shutting down, drain the accept socket of pending connections and process them. This loops over the accept socket until there are no more read events and then stops looking and waits for the requests to finish.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L231-L233'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='231' data-end='233'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 231</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_drain_on_shutdown'>drain_on_shutdown</span>(<span class='id identifier rubyid_which'>which</span><span class='op'>=</span><span class='kw'>true</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_drain_on_shutdown'>drain_on_shutdown</span>] <span class='op'>=</span> <span class='id identifier rubyid_which'>which</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="early_hints-instance_method">
  <h3 class='signature '>
    #<strong>early_hints</strong>(answer = true)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L334-L336'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='334' data-end='336'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 334</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_early_hints'>early_hints</span>(<span class='id identifier rubyid_answer'>answer</span><span class='op'>=</span><span class='kw'>true</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_early_hints'>early_hints</span>] <span class='op'>=</span> <span class='id identifier rubyid_answer'>answer</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="environment-instance_method">
  <h3 class='signature '>
    #<strong>environment</strong>(environment)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Set the environment in which the rack’s app will run. The value must be a string.</p>

<p>The default is “development”.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_environment'>environment</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>production</span><span class='tstring_end'>&#39;</span></span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L242-L244'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='242' data-end='244'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 242</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_environment'>environment</span>(<span class='id identifier rubyid_environment'>environment</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_environment'>environment</span>] <span class='op'>=</span> <span class='id identifier rubyid_environment'>environment</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="extra_runtime_dependencies-instance_method">
  <h3 class='signature '>
    #<strong>extra_runtime_dependencies</strong>(answer = [])  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>When using prune_bundler, if extra runtime dependencies need to be loaded to initialize your app, then this setting can be used. This includes any <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> plugins.</p>

<p>Before bundler is pruned, the gem names supplied will be looked up in the bundler context and then loaded again after bundler is pruned. Only applies if prune_bundler is used.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_extra_runtime_dependencies'>extra_runtime_dependencies</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>gem_name_1</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>gem_name_2</span><span class='tstring_end'>&#39;</span></span>]</code></pre>
      <pre class='example code ruby'><code><span class='id identifier rubyid_extra_runtime_dependencies'>extra_runtime_dependencies</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>puma_worker_killer</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>puma-heroku</span><span class='tstring_end'>&#39;</span></span>]</code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L618-L620'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='618' data-end='620'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 618</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_extra_runtime_dependencies'>extra_runtime_dependencies</span>(<span class='id identifier rubyid_answer'>answer</span> <span class='op'>=</span> [])
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_extra_runtime_dependencies'>extra_runtime_dependencies</span>] <span class='op'>=</span> <span class='const'>Array</span>(<span class='id identifier rubyid_answer'>answer</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="first_data_timeout-instance_method">
  <h3 class='signature '>
    #<strong>first_data_timeout</strong>(seconds)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Define how long the tcp socket stays open, if no data has been received.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L203-L205'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='203' data-end='205'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 203</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_first_data_timeout'>first_data_timeout</span>(<span class='id identifier rubyid_seconds'>seconds</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_first_data_timeout'>first_data_timeout</span>] <span class='op'>=</span> <span class='const'>Integer</span>(<span class='id identifier rubyid_seconds'>seconds</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="force_shutdown_after-instance_method">
  <h3 class='signature '>
    #<strong>force_shutdown_after</strong>(val = :forever)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>How long to wait for threads to stop when shutting them down. Defaults to <code>:forever</code>. Specifying <code>:immediately</code> will cause <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> to kill the threads immediately.  Otherwise the value is the number of seconds to wait.</p>

<p><a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> always waits a few seconds after killing a thread for it to try to finish up it’s work, even in <code>:immediately</code> mode.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L253-L264'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='253' data-end='264'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 253</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_force_shutdown_after'>force_shutdown_after</span>(<span class='id identifier rubyid_val'>val</span><span class='op'>=</span><span class='symbeg'>:</span><span class='id identifier rubyid_forever'>forever</span>)
  <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_val'>val</span>
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_forever'>forever</span>
        <span class='op'>-</span><span class='int'>1</span>
      <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_immediately'>immediately</span>
        <span class='int'>0</span>
      <span class='kw'>else</span>
        <span class='const'>Integer</span>(<span class='id identifier rubyid_val'>val</span>)
      <span class='kw'>end</span>

  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_force_shutdown_after'>force_shutdown_after</span>] <span class='op'>=</span> <span class='id identifier rubyid_i'>i</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="get-instance_method">
  <h3 class='signature '>
    #<strong>get</strong>(key, default = nil)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L75-L77'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='75' data-end='77'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 75</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_get'>get</span>(<span class='id identifier rubyid_key'>key</span><span class='comma'>,</span><span class='id identifier rubyid_default'>default</span><span class='op'>=</span><span class='kw'>nil</span>)
  <span class='ivar'>@options</span>[<span class='id identifier rubyid_key'>key</span>.<span class='id identifier rubyid_to_sym'>to_sym</span>] <span class='op'>||</span> <span class='id identifier rubyid_default'>default</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="inject-instance_method">
  <h3 class='signature '>
    #<strong>inject</strong>(&amp;blk)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L71-L73'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='71' data-end='73'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 71</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_inject'>inject</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
  <span class='id identifier rubyid_instance_eval'>instance_eval</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="load-instance_method">
  <h3 class='signature '>
    #<strong>load</strong>(file)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Load additional configuration from a file Files get loaded later via <a href="Configuration.html#load-instance_method" title="Puma::Configuration#load (method)">Configuration#load</a></p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L150-L153'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='150' data-end='153'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 150</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_load'>load</span>(<span class='id identifier rubyid_file'>file</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_config_files'>config_files</span>] <span class='op'>||=</span> []
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_config_files'>config_files</span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_file'>file</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="log_formatter-instance_method">
  <h3 class='signature '>
    #<strong>log_formatter</strong>(&amp;block)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L351-L353'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='351' data-end='353'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 351</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_log_formatter'>log_formatter</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_log_formatter'>log_formatter</span>] <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="log_requests-instance_method">
  <h3 class='signature '>
    #<strong>log_requests</strong>(which = true)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Enable request logging</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L308-L310'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='308' data-end='310'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 308</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_log_requests'>log_requests</span>(<span class='id identifier rubyid_which'>which</span><span class='op'>=</span><span class='kw'>true</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_log_requests'>log_requests</span>] <span class='op'>=</span> <span class='id identifier rubyid_which'>which</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="lowlevel_error_handler-instance_method">
  <h3 class='signature '>
    #<strong>lowlevel_error_handler</strong>(obj = nil, &amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Use <code>obj</code> or <code>block</code> as the low level error handler. This allows the configuration file to change the default error on the server.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_lowlevel_error_handler'>lowlevel_error_handler</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_err'>err</span><span class='op'>|</span>
  [<span class='int'>200</span><span class='comma'>,</span> {}<span class='comma'>,</span> [<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error page</span><span class='tstring_end'>&quot;</span></span>]]
<span class='kw'>end</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L567-L571'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='567' data-end='571'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 567</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_lowlevel_error_handler'>lowlevel_error_handler</span>(<span class='id identifier rubyid_obj'>obj</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='id identifier rubyid_obj'>obj</span> <span class='op'>||=</span> <span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Provide either a #call&#39;able or a block</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_lowlevel_error_handler'>lowlevel_error_handler</span>] <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_restart-instance_method">
  <h3 class='signature '>
    #<strong>on_restart</strong>(&amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Code to run before doing a restart. This code should close log files, database connections, etc.</p>

<p>This can be called multiple times to add code each time.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_on_restart'>on_restart</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>On restart...</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L275-L278'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='275' data-end='278'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 275</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_restart'>on_restart</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_on_restart'>on_restart</span>] <span class='op'>||=</span> []
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_on_restart'>on_restart</span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_worker_boot-instance_method">
  <h3 class='signature '>
    #<strong>on_worker_boot</strong>(&amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p><a href="Cluster.html" title="Puma::Cluster (class)"><code>Cluster</code></a> mode only.</p>
</div>
  </div>


<p>Code to run in a worker when it boots to setup the process before booting the app.</p>

<p>This can be called multiple times to add several hooks.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_on_worker_fork'><a href="#on_worker_fork-instance_method" title="Puma::DSL#on_worker_fork (method)">on_worker_fork</a></span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Before worker fork...</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L461-L464'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='461' data-end='464'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 461</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_worker_boot'>on_worker_boot</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_before_worker_boot'>before_worker_boot</span>] <span class='op'>||=</span> []
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_before_worker_boot'>before_worker_boot</span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_worker_fork-instance_method">
  <h3 class='signature '>
    #<strong>on_worker_fork</strong>(&amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p><a href="Cluster.html" title="Puma::Cluster (class)"><code>Cluster</code></a> mode only.</p>
</div>
  </div>


<p>Code to run in the master right before a worker is started. The worker’s index is passed as an argument.</p>

<p>This can be called multiple times to add several hooks.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_on_worker_fork'>on_worker_fork</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Before worker fork...</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L493-L496'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='493' data-end='496'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 493</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_worker_fork'>on_worker_fork</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_before_worker_fork'>before_worker_fork</span>] <span class='op'>||=</span> []
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_before_worker_fork'>before_worker_fork</span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="on_worker_shutdown-instance_method">
  <h3 class='signature '>
    #<strong>on_worker_shutdown</strong>(&amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p><a href="Cluster.html" title="Puma::Cluster (class)"><code>Cluster</code></a> mode only.</p>
</div>
  </div>


<p>Code to run immediately before a worker shuts down (after it has finished processing HTTP requests). These hooks can block if necessary to wait for background operations unknown to <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> to finish before the process terminates.</p>

<p>This can be called multiple times to add several hooks.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_on_worker_shutdown'>on_worker_shutdown</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>On worker shutdown...</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L478-L481'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='478' data-end='481'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 478</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_on_worker_shutdown'>on_worker_shutdown</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_before_worker_shutdown'>before_worker_shutdown</span>] <span class='op'>||=</span> []
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_before_worker_shutdown'>before_worker_shutdown</span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="out_of_band-instance_method">
  <h3 class='signature '>
    #<strong>out_of_band</strong>(&amp;block)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Code to run out-of-band when the worker is idle. These hooks run immediately after a request has finished processing and there are no busy threads on the worker. The worker doesn’t accept new requests until this code finishes.</p>

<p>This hook is useful for running out-of-band garbage collection or scheduling asynchronous tasks to execute after a response.</p>

<p>This can be called multiple times to add several hooks.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L524-L527'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='524' data-end='527'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 524</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_out_of_band'>out_of_band</span>(<span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_out_of_band'>out_of_band</span>] <span class='op'>||=</span> []
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_out_of_band'>out_of_band</span>] <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="persistent_timeout-instance_method">
  <h3 class='signature '>
    #<strong>persistent_timeout</strong>(seconds)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Define how long persistent connections can be idle before <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> closes them.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L198-L200'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='198' data-end='200'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 198</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_persistent_timeout'>persistent_timeout</span>(<span class='id identifier rubyid_seconds'>seconds</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_persistent_timeout'>persistent_timeout</span>] <span class='op'>=</span> <span class='const'>Integer</span>(<span class='id identifier rubyid_seconds'>seconds</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="pidfile-instance_method">
  <h3 class='signature '>
    #<strong>pidfile</strong>(path)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Store the pid of the server in the file at “path”.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_pidfile'>pidfile</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/u/apps/lolcat/tmp/pids/puma.pid</span><span class='tstring_end'>&#39;</span></span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L294-L296'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='294' data-end='296'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 294</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_pidfile'>pidfile</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_pidfile'>pidfile</span>] <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="plugin-instance_method">
  <h3 class='signature '>
    #<strong>plugin</strong>(name)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Load the named plugin for use by this configuration</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L81-L83'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='81' data-end='83'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 81</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_plugin'>plugin</span>(<span class='id identifier rubyid_name'>name</span>)
  <span class='ivar'>@plugins</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@config</span>.<span class='id identifier rubyid_load_plugin'>load_plugin</span>(<span class='id identifier rubyid_name'>name</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="port-instance_method">
  <h3 class='signature '>
    #<strong>port</strong>(port, host = nil)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Define the TCP port to bind to. Use <a href="#bind-instance_method" title="Puma::DSL#bind (method)">#bind</a> for more advanced options.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_port'>port</span> <span class='int'>9292</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L191-L194'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='191' data-end='194'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 191</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_port'>port</span>(<span class='id identifier rubyid_port'>port</span><span class='comma'>,</span> <span class='id identifier rubyid_host'>host</span><span class='op'>=</span><span class='kw'>nil</span>)
  <span class='id identifier rubyid_host'>host</span> <span class='op'>||=</span> <span class='id identifier rubyid_default_host'><a href="#default_host-instance_method" title="Puma::DSL#default_host (method)">default_host</a></span>
  <span class='id identifier rubyid_bind'><a href="#bind-instance_method" title="Puma::DSL#bind (method)">bind</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tcp://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_host'>host</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="preload_app!-instance_method">
  <h3 class='signature '>
    #<strong>preload_app!</strong>(answer = true)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p><a href="Cluster.html" title="Puma::Cluster (class)"><code>Cluster</code></a> mode only.</p>
</div>
  </div>


<p>Preload the application before starting the workers; this conflicts with phased restart feature. This is off by default.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_preload_app!'>preload_app!</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L556-L558'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='556' data-end='558'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 556</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_preload_app!'>preload_app!</span>(<span class='id identifier rubyid_answer'>answer</span><span class='op'>=</span><span class='kw'>true</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_preload_app'>preload_app</span>] <span class='op'>=</span> <span class='id identifier rubyid_answer'>answer</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="prune_bundler-instance_method">
  <h3 class='signature '>
    #<strong>prune_bundler</strong>(answer = true)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This is incompatible with <a href="#preload_app!-instance_method" title="Puma::DSL#preload_app! (method)">#preload_app!</a>.</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This is only supported for RubyGems 2.2+</p>
</div>
  </div>


<p>This option is used to allow your app and its gems to be properly reloaded when not using preload.</p>

<p>When set, if <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> detects that it’s been invoked in the context of Bundler, it will cleanup the environment and re-run itself outside the Bundler environment, but directly using the files that Bundler has setup.</p>

<p>This means that <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> is now decoupled from your Bundler context and when each worker loads, it will be loading a new Bundler context and thus can float around as the release dictates.</p>

<p>See also: extra_runtime_dependencies</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L590-L592'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='590' data-end='592'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 590</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_prune_bundler'>prune_bundler</span>(<span class='id identifier rubyid_answer'>answer</span><span class='op'>=</span><span class='kw'>true</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_prune_bundler'>prune_bundler</span>] <span class='op'>=</span> <span class='id identifier rubyid_answer'>answer</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="queue_requests-instance_method">
  <h3 class='signature '>
    #<strong>queue_requests</strong>(answer = true)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>When set to true (the default), workers accept all requests and queue them before passing them to the handlers. When set to false, each worker process accepts exactly as many requests as it is configured to simultaneously handle.</p>

<p>Queueing requests generally improves performance. In some cases, such as a single threaded application, it may be better to ensure requests get balanced across workers.</p>

<p>Note that setting this to false disables HTTP keepalive and slow clients will occupy a handler thread while the request is being sent. A reverse proxy, such as nginx, can handle slow clients and queue requests before they reach <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a>.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L687-L689'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='687' data-end='689'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 687</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_queue_requests'>queue_requests</span>(<span class='id identifier rubyid_answer'>answer</span><span class='op'>=</span><span class='kw'>true</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_queue_requests'>queue_requests</span>] <span class='op'>=</span> <span class='id identifier rubyid_answer'>answer</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="quiet-instance_method">
  <h3 class='signature '>
    #<strong>quiet</strong>(which = true)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Disable request logging, if this isn’t used it’ll be enabled by default.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_quiet'>quiet</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L302-L304'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='302' data-end='304'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 302</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_quiet'>quiet</span>(<span class='id identifier rubyid_which'>which</span><span class='op'>=</span><span class='kw'>true</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_log_requests'><a href="#log_requests-instance_method" title="Puma::DSL#log_requests (method)">log_requests</a></span>] <span class='op'>=</span> <span class='op'>!</span><span class='id identifier rubyid_which'>which</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="rackup-instance_method">
  <h3 class='signature '>
    #<strong>rackup</strong>(path)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Load <code>path</code> as a rackup file.</p>

<p>The default is “config.ru”.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_rackup'>rackup</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/u/apps/lolcat/config.ru</span><span class='tstring_end'>&#39;</span></span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L324-L326'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='324' data-end='326'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 324</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_rackup'>rackup</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_rackup'>rackup</span>] <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="raise_exception_on_sigterm-instance_method">
  <h3 class='signature '>
    #<strong>raise_exception_on_sigterm</strong>(answer = true)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>By default, <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> will raise SignalException when SIGTERM is received. In environments where SIGTERM is something expected, you can suppress these with this option.</p>

<p>This can be useful for example in Kubernetes, where rolling restart is guaranteed usually on infrastructure level.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_raise_exception_on_sigterm'>raise_exception_on_sigterm</span> <span class='kw'>false</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L603-L605'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='603' data-end='605'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 603</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_raise_exception_on_sigterm'>raise_exception_on_sigterm</span>(<span class='id identifier rubyid_answer'>answer</span><span class='op'>=</span><span class='kw'>true</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_raise_exception_on_sigterm'>raise_exception_on_sigterm</span>] <span class='op'>=</span> <span class='id identifier rubyid_answer'>answer</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="restart_command-instance_method">
  <h3 class='signature '>
    #<strong>restart_command</strong>(cmd)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Command to use to restart <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a>. This should be just how to load <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> itself (ie. ‘ruby -Ilib bin/puma’), not the arguments to <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a>, as those are the same as the original process.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_restart_command'>restart_command</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/u/app/lolcat/bin/restart_puma</span><span class='tstring_end'>&#39;</span></span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L286-L288'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='286' data-end='288'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 286</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_restart_command'>restart_command</span>(<span class='id identifier rubyid_cmd'>cmd</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_restart_cmd'>restart_cmd</span>] <span class='op'>=</span> <span class='id identifier rubyid_cmd'>cmd</span>.<span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_default_host-instance_method">
  <h3 class='signature '>
    #<strong>set_default_host</strong>(host)  
  </h3>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L63-L65'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='63' data-end='65'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 63</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_default_host'>set_default_host</span>(<span class='id identifier rubyid_host'>host</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_default_host'><a href="#default_host-instance_method" title="Puma::DSL#default_host (method)">default_host</a></span>] <span class='op'>=</span> <span class='id identifier rubyid_host'>host</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="set_remote_address-instance_method">
  <h3 class='signature '>
    #<strong>set_remote_address</strong>(val = :socket)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Control how the remote address of the connection is set. This is configurable because to calculate the true socket peer address a kernel syscall is required which for very fast rack handlers slows down the handling significantly.</p>

<p>There are 4 possible values:</p>
<ul><li>
<p><code>:socket</code> (the default) - read the peername from the socket using the</p>

<pre class="code ruby"><code class="ruby">syscall. This is the normal behavior.</code></pre>
</li><li>
<p><code>:localhost</code> - set the remote address to “127.0.0.1”</p>
</li><li>
<p>header: http_header - set the remote address to the value of the</p>

<pre class="code ruby"><code class="ruby">provided http header. For instance:
`set_remote_address header: &quot;X-Real-IP&quot;`.
Only the first word (as separated by spaces or comma)
is used, allowing headers such as X-Forwarded-For
to be used as well.</code></pre>
</li><li>
<p>Any string - this allows you to hardcode remote address to any value</p>

<pre class="code ruby"><code class="ruby">you wish. Because Puma never uses this field anyway, it&#39;s
format is entirely in your hands.</code></pre>
</li></ul>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L717-L737'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='717' data-end='737'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 717</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_set_remote_address'>set_remote_address</span>(<span class='id identifier rubyid_val'>val</span><span class='op'>=</span><span class='symbeg'>:</span><span class='id identifier rubyid_socket'>socket</span>)
  <span class='kw'>case</span> <span class='id identifier rubyid_val'>val</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_socket'>socket</span>
    <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_remote_address'>remote_address</span>] <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
  <span class='kw'>when</span> <span class='symbeg'>:</span><span class='id identifier rubyid_localhost'>localhost</span>
    <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_remote_address'>remote_address</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>
    <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_remote_address_value'>remote_address_value</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span>.<span class='id identifier rubyid_freeze'>freeze</span>
  <span class='kw'>when</span> <span class='const'>String</span>
    <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_remote_address'>remote_address</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_value'>value</span>
    <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_remote_address_value'>remote_address_value</span>] <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
  <span class='kw'>when</span> <span class='const'>Hash</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_hdr'>hdr</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_header'>header</span>]
      <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_remote_address'>remote_address</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_header'>header</span>
      <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_remote_address_header'>remote_address_header</span>] <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HTTP_</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_hdr'>hdr</span>.<span class='id identifier rubyid_upcase'>upcase</span>.<span class='id identifier rubyid_tr'>tr</span>(<span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_</span><span class='tstring_end'>&quot;</span></span>)
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid value for set_remote_address - </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_val'>val</span>.<span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid value for set_remote_address - </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_val'>val</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="shutdown_debug-instance_method">
  <h3 class='signature '>
    #<strong>shutdown_debug</strong>(val = true)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>When a shutdown is requested, the backtraces of all the threads will be written to $stdout. This can help figure out why shutdown is hanging.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L694-L696'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='694' data-end='696'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 694</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_shutdown_debug'>shutdown_debug</span>(<span class='id identifier rubyid_val'>val</span><span class='op'>=</span><span class='kw'>true</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_shutdown_debug'>shutdown_debug</span>] <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="ssl_bind-instance_method">
  <h3 class='signature '>
    #<strong>ssl_bind</strong>(host, port, opts)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Instead of “bind ‘ssl://127.0.0.1:9292?key=key_path&amp;cert=cert_path’” you can also use the “ssl_bind” option.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_ssl_bind'>ssl_bind</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>9292</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> {
  <span class='label'>cert:</span> <span class='id identifier rubyid_path_to_cert'>path_to_cert</span><span class='comma'>,</span>
  <span class='label'>key:</span> <span class='id identifier rubyid_path_to_key'>path_to_key</span><span class='comma'>,</span>
  <span class='label'>ssl_cipher_filter:</span> <span class='id identifier rubyid_cipher_filter'>cipher_filter</span><span class='comma'>,</span> <span class='comment'># optional
</span>  <span class='label'>verify_mode:</span> <span class='id identifier rubyid_verify_mode'>verify_mode</span><span class='comma'>,</span>         <span class='comment'># default &#39;none&#39;
</span>}</code></pre>
        <p class='example_title'><div class='inline'>
<p>For JRuby additional keys are required: keystore &amp; keystore_pass.</p>
</div></p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_ssl_bind'>ssl_bind</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>9292</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> {
  <span class='label'>cert:</span> <span class='id identifier rubyid_path_to_cert'>path_to_cert</span><span class='comma'>,</span>
  <span class='label'>key:</span> <span class='id identifier rubyid_path_to_key'>path_to_key</span><span class='comma'>,</span>
  <span class='label'>ssl_cipher_filter:</span> <span class='id identifier rubyid_cipher_filter'>cipher_filter</span><span class='comma'>,</span> <span class='comment'># optional
</span>  <span class='label'>verify_mode:</span> <span class='id identifier rubyid_verify_mode'>verify_mode</span><span class='comma'>,</span>         <span class='comment'># default &#39;none&#39;
</span>  <span class='label'>keystore:</span> <span class='id identifier rubyid_path_to_keystore'>path_to_keystore</span><span class='comma'>,</span>
  <span class='label'>keystore_pass:</span> <span class='id identifier rubyid_password'>password</span>
}</code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L398-L411'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='398' data-end='411'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 398</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_ssl_bind'>ssl_bind</span>(<span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'><a href="#port-instance_method" title="Puma::DSL#port (method)">port</a></span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span>)
  <span class='id identifier rubyid_verify'>verify</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_verify_mode'>verify_mode</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>none</span><span class='tstring_end'>&#39;</span></span>).<span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_no_tlsv1'>no_tlsv1</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_no_tlsv1'>no_tlsv1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>false</span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_no_tlsv1_1'>no_tlsv1_1</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span>.<span class='id identifier rubyid_fetch'>fetch</span>(<span class='symbeg'>:</span><span class='id identifier rubyid_no_tlsv1_1'>no_tlsv1_1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>false</span><span class='tstring_end'>&#39;</span></span>)
  <span class='id identifier rubyid_ca_additions'>ca_additions</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&amp;ca=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ca'>ca</span>]<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> [<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>peer</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>force_peer</span><span class='tstring_end'>&#39;</span></span>].<span class='id identifier rubyid_include?'>include?</span>(<span class='id identifier rubyid_verify'>verify</span>)

  <span class='kw'>if</span> <span class='kw'>defined?</span>(<span class='const'>JRUBY_VERSION</span>)
    <span class='id identifier rubyid_keystore_additions'>keystore_additions</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>keystore=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_keystore'>keystore</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>&amp;keystore-pass=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_keystore_pass'>keystore_pass</span>]<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_bind'><a href="#bind-instance_method" title="Puma::DSL#bind (method)">bind</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ssl://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_host'>host</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'><a href="#port-instance_method" title="Puma::DSL#port (method)">port</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>?cert=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_cert'>cert</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>&amp;key=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>&amp;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_keystore_additions'>keystore_additions</span><span class='embexpr_end'>}</span><span class='tstring_content'>&amp;verify_mode=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_verify'>verify</span><span class='embexpr_end'>}</span><span class='tstring_content'>&amp;no_tlsv1=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_no_tlsv1'>no_tlsv1</span><span class='embexpr_end'>}</span><span class='tstring_content'>&amp;no_tlsv1_1=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_no_tlsv1_1'>no_tlsv1_1</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ca_additions'>ca_additions</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_ssl_cipher_filter'>ssl_cipher_filter</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&amp;ssl_cipher_filter=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ssl_cipher_filter'>ssl_cipher_filter</span>]<span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_ssl_cipher_filter'>ssl_cipher_filter</span>]
    <span class='id identifier rubyid_bind'><a href="#bind-instance_method" title="Puma::DSL#bind (method)">bind</a></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ssl://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_host'>host</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'><a href="#port-instance_method" title="Puma::DSL#port (method)">port</a></span><span class='embexpr_end'>}</span><span class='tstring_content'>?cert=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_cert'>cert</span>]<span class='embexpr_end'>}</span><span class='tstring_content'>&amp;key=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_opts'>opts</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_key'>key</span>]<span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ssl_cipher_filter'>ssl_cipher_filter</span><span class='embexpr_end'>}</span><span class='tstring_content'>&amp;verify_mode=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_verify'>verify</span><span class='embexpr_end'>}</span><span class='tstring_content'>&amp;no_tlsv1=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_no_tlsv1'>no_tlsv1</span><span class='embexpr_end'>}</span><span class='tstring_content'>&amp;no_tlsv1_1=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_no_tlsv1_1'>no_tlsv1_1</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ca_additions'>ca_additions</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="state_path-instance_method">
  <h3 class='signature '>
    #<strong>state_path</strong>(path)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Use <code>path</code> as the file to store the server info state. This is used by <code>pumactl</code> to query and control the server.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_state_path'>state_path</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/u/apps/lolcat/tmp/pids/puma.state</span><span class='tstring_end'>&#39;</span></span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L418-L420'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='418' data-end='420'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 418</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_state_path'>state_path</span>(<span class='id identifier rubyid_path'>path</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_state'>state</span>] <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span>.<span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="stdout_redirect-instance_method">
  <h3 class='signature '>
    #<strong>stdout_redirect</strong>(stdout = nil, stderr = nil, append = false)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Redirect STDOUT and STDERR to files specified. The <code>append</code> parameter specifies whether the output is appended, the default is <code>false</code>.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_stdout_redirect'>stdout_redirect</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/app/lolcat/log/stdout</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/app/lolcat/log/stderr</span><span class='tstring_end'>&#39;</span></span></code></pre>
      <pre class='example code ruby'><code><span class='id identifier rubyid_stdout_redirect'>stdout_redirect</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/app/lolcat/log/stdout</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/app/lolcat/log/stderr</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>true</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L345-L349'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='345' data-end='349'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 345</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_stdout_redirect'>stdout_redirect</span>(<span class='id identifier rubyid_stdout'>stdout</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_stderr'>stderr</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_append'>append</span><span class='op'>=</span><span class='kw'>false</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_redirect_stdout'>redirect_stdout</span>] <span class='op'>=</span> <span class='id identifier rubyid_stdout'>stdout</span>
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_redirect_stderr'>redirect_stderr</span>] <span class='op'>=</span> <span class='id identifier rubyid_stderr'>stderr</span>
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_redirect_append'>redirect_append</span>] <span class='op'>=</span> <span class='id identifier rubyid_append'>append</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tag-instance_method">
  <h3 class='signature '>
    #<strong>tag</strong>(string)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Additional text to display in process listing.</p>

<p>If you do not specify a tag, <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> will infer it. If you do not want <a href="../Puma.html" title="Puma (module)"><code>::Puma</code></a> to add a tag, use an empty string.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_tag'>tag</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>app name</span><span class='tstring_end'>&#39;</span></span></code></pre>
      <pre class='example code ruby'><code><span class='id identifier rubyid_tag'>tag</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L631-L633'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='631' data-end='633'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 631</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_tag'>tag</span>(<span class='id identifier rubyid_string'>string</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_tag'>tag</span>] <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span>.<span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tcp_mode-instance_method">
  <h3 class='signature '>
    #<strong>tcp_mode</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Run the app as a raw TCP app instead of an HTTP rack app.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L546-L548'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='546' data-end='548'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 546</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_tcp_mode'>tcp_mode</span>
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_mode'>mode</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tcp'>tcp</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="tcp_mode!-instance_method">
  <h3 class='signature '>
    #<strong>tcp_mode!</strong>  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Run Puma in TCP mode</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L330-L332'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='330' data-end='332'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 330</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_tcp_mode!'>tcp_mode!</span>
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_mode'>mode</span>] <span class='op'>=</span> <span class='symbeg'>:</span><span class='id identifier rubyid_tcp'>tcp</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="threads-instance_method">
  <h3 class='signature '>
    #<strong>threads</strong>(min, max)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Configure <code>min</code> to be the minimum number of threads to use to answer requests and <code>max</code> the maximum.</p>

<p>The default is “0, 16”.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_threads'>threads</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>16</span></code></pre>
      <pre class='example code ruby'><code><span class='id identifier rubyid_threads'>threads</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>5</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L364-L377'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='364' data-end='377'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 364</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_threads'>threads</span>(<span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span>)
  <span class='id identifier rubyid_min'>min</span> <span class='op'>=</span> <span class='const'>Integer</span>(<span class='id identifier rubyid_min'>min</span>)
  <span class='id identifier rubyid_max'>max</span> <span class='op'>=</span> <span class='const'>Integer</span>(<span class='id identifier rubyid_max'>max</span>)
  <span class='kw'>if</span> <span class='id identifier rubyid_min'>min</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_max'>max</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The minimum (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_min'>min</span><span class='embexpr_end'>}</span><span class='tstring_content'>) number of threads must be less than or equal to the max (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_max'>max</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_max'>max</span> <span class='op'>&lt;</span> <span class='int'>1</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The maximum number of threads (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_max'>max</span><span class='embexpr_end'>}</span><span class='tstring_content'>) must be greater than 0</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_min_threads'>min_threads</span>] <span class='op'>=</span> <span class='id identifier rubyid_min'>min</span>
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_max_threads'>max_threads</span>] <span class='op'>=</span> <span class='id identifier rubyid_max'>max</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="worker_boot_timeout-instance_method">
  <h3 class='signature '>
    #<strong>worker_boot_timeout</strong>(timeout)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p><a href="Cluster.html" title="Puma::Cluster (class)"><code>Cluster</code></a> mode only.</p>
</div>
  </div>


<p>Change the default worker timeout for booting.</p>

<p>If unspecified, this defaults to the value of worker_timeout.</p>

<p>@example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_worker_boot_timeout'>worker_boot_timeout</span> <span class='int'>60</span></code></pre>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L663-L665'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='663' data-end='665'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 663</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_worker_boot_timeout'>worker_boot_timeout</span>(<span class='id identifier rubyid_timeout'>timeout</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_worker_boot_timeout'>worker_boot_timeout</span>] <span class='op'>=</span> <span class='const'>Integer</span>(<span class='id identifier rubyid_timeout'>timeout</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="worker_directory-instance_method">
  <h3 class='signature '>
    #<strong>worker_directory</strong>(dir)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>DEPRECATED: The directory to operate out of.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L540-L543'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='540' data-end='543'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 540</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_worker_directory'>worker_directory</span>(<span class='id identifier rubyid_dir'>dir</span>)
  <span class='gvar'>$stderr</span>.<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>worker_directory is deprecated. Please use `directory`</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_directory'><a href="#directory-instance_method" title="Puma::DSL#directory (method)">directory</a></span> <span class='id identifier rubyid_dir'>dir</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="worker_shutdown_timeout-instance_method">
  <h3 class='signature '>
    #<strong>worker_shutdown_timeout</strong>(timeout)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p><a href="Cluster.html" title="Puma::Cluster (class)"><code>Cluster</code></a> mode only.</p>
</div>
  </div>


<p>Set the timeout for worker shutdown</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L670-L672'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='670' data-end='672'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 670</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_worker_shutdown_timeout'>worker_shutdown_timeout</span>(<span class='id identifier rubyid_timeout'>timeout</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_worker_shutdown_timeout'>worker_shutdown_timeout</span>] <span class='op'>=</span> <span class='const'>Integer</span>(<span class='id identifier rubyid_timeout'>timeout</span>)
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="worker_timeout-instance_method">
  <h3 class='signature '>
    #<strong>worker_timeout</strong>(timeout)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p><a href="Cluster.html" title="Puma::Cluster (class)"><code>Cluster</code></a> mode only.</p>
</div>
  </div>


<p>Verifies that all workers have checked in to the master process within the given timeout. If not the worker process will be restarted. This is not a request timeout, it is to protect against a hung or dead process. Setting this value will not protect against slow requests.</p>

<p>The minimum value is 6 seconds, the default value is 60 seconds.</p>

  </div>
</div>
<div class='tags'>
    <div class='examples'>
    <p class='tag_title'>Examples:</p>
      <pre class='example code ruby'><code><span class='id identifier rubyid_worker_timeout'>worker_timeout</span> <span class='int'>60</span></code></pre>
  </div>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L645-L654'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='645' data-end='654'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 645</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_worker_timeout'>worker_timeout</span>(<span class='id identifier rubyid_timeout'>timeout</span>)
  <span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>=</span> <span class='const'>Integer</span>(<span class='id identifier rubyid_timeout'>timeout</span>)
  <span class='id identifier rubyid_min'>min</span> <span class='op'>=</span> <span class='const'><a href="Const.html" title="Puma::Const (module)">Const</a></span><span class='op'>::</span><span class='const'><a href="Const.html#WORKER_CHECK_INTERVAL-constant" title="Puma::Const::WORKER_CHECK_INTERVAL (constant)">WORKER_CHECK_INTERVAL</a></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_timeout'>timeout</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_min'>min</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The minimum worker_timeout must be greater than the worker reporting interval (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_min'>min</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_worker_timeout'>worker_timeout</span>] <span class='op'>=</span> <span class='id identifier rubyid_timeout'>timeout</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>

<section class='method_details' id="workers-instance_method">
  <h3 class='signature '>
    #<strong>workers</strong>(count)  
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p><a href="Cluster.html" title="Puma::Cluster (class)"><code>Cluster</code></a> mode only.</p>
</div>
  </div>


<p>How many worker processes to run.  Typically this is set to to the number of available cores.</p>

<p>The default is 0.</p>

  </div>
</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/puma/puma/blob/v4.3.12/lib/puma/dsl.rb#L428-L430'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='428' data-end='430'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/puma/dsl.rb', line 428</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_workers'>workers</span>(<span class='id identifier rubyid_count'>count</span>)
  <span class='ivar'>@options</span>[<span class='symbeg'>:</span><span class='id identifier rubyid_workers'>workers</span>] <span class='op'>=</span> <span class='id identifier rubyid_count'>count</span>.<span class='id identifier rubyid_to_i'>to_i</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>